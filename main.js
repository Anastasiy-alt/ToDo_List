(()=>{"use strict";var e=document.querySelector(".add__button"),t=document.querySelector(".add__input"),o=document.querySelector("[name=list-all]"),r=document.querySelector("[name=list-complete]"),c=document.querySelector(".task-template"),a=document.querySelector("[name=btn-even]"),n=document.querySelector("[name=btn-odd]"),s=document.querySelector("[name=btn-del-first]"),l=document.querySelector("[name=btn-del-last]"),i=[],d=[];if(s.addEventListener("click",(function(e){o.querySelectorAll(".task")[0].remove(),i.splice(0,1),u()})),l.addEventListener("click",(function(e){var t=o.querySelectorAll(".task");t[t.length-1].remove(),i.splice(t.length-1,1),u()})),a.addEventListener("click",(function(e){a.classList.toggle("block-option__button_theme_active");var t=document.querySelectorAll(".task");if(a.classList.contains("block-option__button_theme_active"))for(var o=1;o<t.length;o+=2)t[o].classList.add("task_theme_mark-even");else for(var r=0;r<t.length;r+=1)t[r].classList.remove("task_theme_mark-even")})),n.addEventListener("click",(function(e){n.classList.toggle("block-option__button_theme_active");var t=document.querySelectorAll(".task");if(n.classList.contains("block-option__button_theme_active"))for(var o=0;o<t.length;o+=2)t[o].classList.add("task_theme_mark-odd");else for(var r=0;r<t.length;r+=1)t[r].classList.remove("task_theme_mark-odd")})),localStorage.getItem("tasksCompleted")){try{d=JSON.parse(localStorage.getItem("tasksCompleted"))}catch(e){console.error("Error parsing tasks completed from LocalStorage:",e)}d.forEach((function(e){var t=m(e);r.append(t)}))}if(localStorage.getItem("tasks")){try{i=JSON.parse(localStorage.getItem("tasks"))}catch(e){console.error("Error parsing tasks from LocalStorage:",e)}i.forEach((function(e){var t=m(e);o.append(t)}))}function m(e){var t=c.content.cloneNode(!0).querySelector(".task").cloneNode(!0),a=t.querySelector(".task__text"),n=t.querySelector(".task__button-comp");return a.textContent=e.text,e.completed?(n.addEventListener("click",(function(){return function(e){var t=Array.from(r.children).indexOf(e);if(t>-1){d[t].completed=!1,console.log(d[t]),e.classList.remove("task_theme_comp"),e.querySelector(".task__button-comp").classList.remove("task__button-comp_click");var c={text:e.querySelector(".task__text").textContent,completed:!1};i.push(c);var a=m(c);o.append(a),e.remove(),d.splice(t,1),u()}}(t)})),t.querySelector(".task__button-del").addEventListener("click",(function(){return e=t,void((o=Array.from(r.children).indexOf(e))>-1&&(e.remove(),d.splice(o,1),u()));var e,o})),t.classList.add("task_theme_comp"),n.classList.add("task__button-comp_click")):(n.addEventListener("click",(function(){return function(e){var t=Array.from(o.children).indexOf(e);if(t>-1){i[t].completed=!0,console.log(i[t]),e.classList.add("task_theme_comp"),e.querySelector(".task__button-comp").classList.add("task__button-comp_click");var c={text:e.querySelector(".task__text").textContent,completed:!0};console.log(c),d.push(c);var a=m(c);r.append(a),e.remove(),i.splice(t,1),u()}}(t)})),t.querySelector(".task__button-del").addEventListener("click",(function(){return function(e){var t=Array.from(o.children).indexOf(e);t>-1&&(e.remove(),i.splice(t,1),u())}(t)})),n.classList.remove("task__button-comp_click"),t.classList.remove("task_theme_comp")),t}function u(){localStorage.setItem("tasks",JSON.stringify(i)),localStorage.setItem("tasksCompleted",JSON.stringify(d))}e.addEventListener("click",(function(){var e=t.value;if(""!==e){var r={text:e,completed:!1};i.push(r);var c=m(r);o.append(c),u(),t.value=""}}))})();